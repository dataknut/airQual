<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Ben Anderson (b.anderson@soton.ac.uk @dataknut)" />


<title>Air Quality in Southampton (UK)</title>

<script src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/navigation-1.1/tabsets.js"></script>
<script src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/navigation-1.1/codefolding.js"></script>
<link href="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/highlightjs-9.12.0/highlight.js"></script>
<script src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/kePrint-0.0.1/kePrint.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Air Quality in Southampton (UK)</h1>
<h3 class="subtitle">Exploring the effect of UK covid 19 lockdown on air quality: Summary for BBC South</h3>
<h4 class="author">Ben Anderson (<a href="mailto:b.anderson@soton.ac.uk">b.anderson@soton.ac.uk</a> <code>@dataknut</code>)</h4>
<h4 class="date">Last run at: 2020-06-18 22:08:11 (Europe/London)</h4>

</div>


<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>This report describes exploratory analysis of changes in air quality in the City of Southampton, UK in Spring 2020.</p>
<pre class="r"><code>lastHA &lt;- max(fixedDT[source == &quot;hantsAir&quot;]$dateTimeUTC)
diffHA &lt;- lubridate::now() - lastHA
lastAURN &lt;- max(fixedDT[source == &quot;AURN&quot;]$dateTimeUTC)
diffAURN &lt;- lubridate::now() - lastAURN</code></pre>
<p>Data for Southampton downloaded from :</p>
<ul>
<li><a href="http://www.hantsair.org.uk/hampshire/asp/Bulletin.asp?la=Southampton" class="uri">http://www.hantsair.org.uk/hampshire/asp/Bulletin.asp?la=Southampton</a> (see also <a href="https://www.southampton.gov.uk/environmental-issues/pollution/air-quality/" class="uri">https://www.southampton.gov.uk/environmental-issues/pollution/air-quality/</a>);</li>
<li><a href="https://uk-air.defra.gov.uk/networks/network-info?view=aurn" class="uri">https://uk-air.defra.gov.uk/networks/network-info?view=aurn</a></li>
</ul>
<p>Southampton City Council collects various forms of air quality data at the sites shown in Table <a href="#tab:showSites">2.1</a>. The data is available in raw form from <a href="http://www.hantsair.org.uk/hampshire/asp/Bulletin.asp?la=Southampton&amp;bulletin=daily&amp;site=SH5" class="uri">http://www.hantsair.org.uk/hampshire/asp/Bulletin.asp?la=Southampton&amp;bulletin=daily&amp;site=SH5</a>.</p>
<p>Some of these sites feed data to <a href="https://uk-air.defra.gov.uk/networks/network-info?view=aurn">AURN</a>. The data that goes via AURN is <a href="https://uk-air.defra.gov.uk/assets/documents/Data_Validation_and_Ratification_Process_Apr_2017.pdf">ratified</a> to check for outliers and instrument/measurement error. AURN data less than six months old has not undergone this process. AURN data is (c) Crown 2020 copyright Defra and available for re-use via <a href="https://uk-air.defra.gov.uk" class="uri">https://uk-air.defra.gov.uk</a>, licenced under the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/2/">Open Government Licence</a> (OGL).</p>
</div>
<div id="data" class="section level1">
<h1><span class="header-section-number">2</span> Data</h1>
<p>In this report we use data from the following sources:</p>
<ul>
<li><a href="http://www.hantsair.org.uk/hampshire/asp/Bulletin.asp?la=Southampton" class="uri">http://www.hantsair.org.uk/hampshire/asp/Bulletin.asp?la=Southampton</a> last updated at 2020-06-08 10:00:00;</li>
<li><a href="https://uk-air.defra.gov.uk/networks/network-info?view=aurn" class="uri">https://uk-air.defra.gov.uk/networks/network-info?view=aurn</a> last updated at 2020-06-07 23:00:00.</li>
</ul>
<p>Table <a href="#tab:showSites">2.1</a> shows the available sites and sources. Note that some of the non-AURN sites appear to have stopped updating recently. For a detailed analysis of recent missing data see Section <a href="#annexMissing"><strong>??</strong></a>.</p>
<pre class="r"><code>t &lt;- fixedDT[!is.na(value), .(nObs = .N, firstData = min(dateTimeUTC), latestData = max(dateTimeUTC), nMeasures = uniqueN(pollutant)), 
    keyby = .(site, source)]

kableExtra::kable(t, caption = &quot;Sites, data source and number of valid observations. note that measures includes wind speed and direction in the AURN sourced data&quot;, 
    digits = 2) %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:showSites">Table 2.1: </span>Sites, data source and number of valid observations. note that measures includes wind speed and direction in the AURN sourced data
</caption>
<thead>
<tr>
<th style="text-align:left;">
site
</th>
<th style="text-align:left;">
source
</th>
<th style="text-align:right;">
nObs
</th>
<th style="text-align:left;">
firstData
</th>
<th style="text-align:left;">
latestData
</th>
<th style="text-align:right;">
nMeasures
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Southampton - A33 Roadside (near docks, AURN site)
</td>
<td style="text-align:left;">
hantsAir
</td>
<td style="text-align:right;">
85918
</td>
<td style="text-align:left;">
2017-01-01 00:00:00
</td>
<td style="text-align:left;">
2020-06-08 10:00:00
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Southampton - Background (near city centre, AURN site)
</td>
<td style="text-align:left;">
hantsAir
</td>
<td style="text-align:right;">
162148
</td>
<td style="text-align:left;">
2017-01-25 11:00:00
</td>
<td style="text-align:left;">
2020-06-08 10:00:00
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Southampton - Onslow Road (near RSH)
</td>
<td style="text-align:left;">
hantsAir
</td>
<td style="text-align:right;">
82232
</td>
<td style="text-align:left;">
2017-01-01 00:00:00
</td>
<td style="text-align:left;">
2020-04-15 07:00:00
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Southampton - Victoria Road (Woolston)
</td>
<td style="text-align:left;">
hantsAir
</td>
<td style="text-align:right;">
60078
</td>
<td style="text-align:left;">
2017-01-01 00:00:00
</td>
<td style="text-align:left;">
2020-04-01 06:00:00
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Southampton A33 (via AURN)
</td>
<td style="text-align:left;">
AURN
</td>
<td style="text-align:right;">
220010
</td>
<td style="text-align:left;">
2017-01-01 00:00:00
</td>
<td style="text-align:left;">
2020-06-07 23:00:00
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Southampton Centre (via AURN)
</td>
<td style="text-align:left;">
AURN
</td>
<td style="text-align:right;">
343216
</td>
<td style="text-align:left;">
2017-01-01 00:00:00
</td>
<td style="text-align:left;">
2020-06-07 23:00:00
</td>
<td style="text-align:right;">
13
</td>
</tr>
</tbody>
</table>
<p>Table <a href="#tab:showPollutants">2.2</a> shows the poillutants recorded at each site.</p>
<pre class="r"><code>t &lt;- with(fixedDT[!is.na(value)], table(pollutant, site))

kableExtra::kable(t, caption = &quot;Sites, pollutant and number of valid observations&quot;, digits = 2) %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:showPollutants">Table 2.2: </span>Sites, pollutant and number of valid observations
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Southampton - A33 Roadside (near docks, AURN site)
</th>
<th style="text-align:right;">
Southampton - Background (near city centre, AURN site)
</th>
<th style="text-align:right;">
Southampton - Onslow Road (near RSH)
</th>
<th style="text-align:right;">
Southampton - Victoria Road (Woolston)
</th>
<th style="text-align:right;">
Southampton A33 (via AURN)
</th>
<th style="text-align:right;">
Southampton Centre (via AURN)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
no
</td>
<td style="text-align:right;">
29055
</td>
<td style="text-align:right;">
28702
</td>
<td style="text-align:right;">
27412
</td>
<td style="text-align:right;">
20026
</td>
<td style="text-align:right;">
29641
</td>
<td style="text-align:right;">
28657
</td>
</tr>
<tr>
<td style="text-align:left;">
no2
</td>
<td style="text-align:right;">
29020
</td>
<td style="text-align:right;">
28702
</td>
<td style="text-align:right;">
27408
</td>
<td style="text-align:right;">
20026
</td>
<td style="text-align:right;">
29640
</td>
<td style="text-align:right;">
28657
</td>
</tr>
<tr>
<td style="text-align:left;">
nox
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
22877
</td>
<td style="text-align:right;">
27412
</td>
<td style="text-align:right;">
20026
</td>
<td style="text-align:right;">
29640
</td>
<td style="text-align:right;">
28658
</td>
</tr>
<tr>
<td style="text-align:left;">
nv10
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
23208
</td>
<td style="text-align:right;">
21105
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
22627
</td>
</tr>
<tr>
<td style="text-align:left;">
o3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
28645
</td>
</tr>
<tr>
<td style="text-align:left;">
pm10
</td>
<td style="text-align:right;">
27843
</td>
<td style="text-align:right;">
26124
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
25681
</td>
<td style="text-align:right;">
26180
</td>
</tr>
<tr>
<td style="text-align:left;">
pm2.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
27632
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
27702
</td>
</tr>
<tr>
<td style="text-align:left;">
so2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
28261
</td>
</tr>
<tr>
<td style="text-align:left;">
sp2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
28111
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
v10
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
23208
</td>
<td style="text-align:right;">
21105
</td>
</tr>
<tr>
<td style="text-align:left;">
v2.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
22627
</td>
</tr>
<tr>
<td style="text-align:left;">
wd
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
29496
</td>
<td style="text-align:right;">
29496
</td>
</tr>
<tr>
<td style="text-align:left;">
ws
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
29496
</td>
<td style="text-align:right;">
29496
</td>
</tr>
</tbody>
</table>
<p>To avoid confusion and 'double counting', in the remainder of the analysis we replace the Southampton AURN site data with the data for the same site sourced via AURN as shown in Table <a href="#tab:selectFinalSites">2.3</a>. This has the disadvantage that the data is slightly less up to date (see Table <a href="#tab:showSites">2.1</a>). As will be explained below in the comparative analysis we will use only the AURN data to avoid missing data issues.</p>
<pre class="r"><code>fixedDT &lt;- fixedDT[!(site %like% &quot;AURN site&quot;)]

t &lt;- fixedDT[!is.na(value), .(nObs = .N, nPollutants = uniqueN(pollutant), lastDate = max(dateTimeUTC)), keyby = .(site, 
    source)]

kableExtra::kable(t, caption = &quot;Sites, data source and number of valid observations&quot;, digits = 2) %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:selectFinalSites">Table 2.3: </span>Sites, data source and number of valid observations
</caption>
<thead>
<tr>
<th style="text-align:left;">
site
</th>
<th style="text-align:left;">
source
</th>
<th style="text-align:right;">
nObs
</th>
<th style="text-align:right;">
nPollutants
</th>
<th style="text-align:left;">
lastDate
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Southampton - Onslow Road (near RSH)
</td>
<td style="text-align:left;">
hantsAir
</td>
<td style="text-align:right;">
82232
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
2020-04-15 07:00:00
</td>
</tr>
<tr>
<td style="text-align:left;">
Southampton - Victoria Road (Woolston)
</td>
<td style="text-align:left;">
hantsAir
</td>
<td style="text-align:right;">
60078
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
2020-04-01 06:00:00
</td>
</tr>
<tr>
<td style="text-align:left;">
Southampton A33 (via AURN)
</td>
<td style="text-align:left;">
AURN
</td>
<td style="text-align:right;">
220010
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
2020-06-07 23:00:00
</td>
</tr>
<tr>
<td style="text-align:left;">
Southampton Centre (via AURN)
</td>
<td style="text-align:left;">
AURN
</td>
<td style="text-align:right;">
343216
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:left;">
2020-06-07 23:00:00
</td>
</tr>
</tbody>
</table>
<p>We use this data to compare:</p>
<ul>
<li>pre and during-lockdown air quality measures</li>
<li>air quality measures during lockdown 2020 with average measures for the same time periods in the preceding 3 years (2017-2019)</li>
</ul>
<p>It should be noted that air pollution levels in any given period of time are highly dependent on the prevailing meteorological conditions. As a result it can be very difficult to disentangle the affects of a reduction in source strength from the affects of local surface conditions. This is abundantly clear in the analysis which follows given that the Easter weekend was forecast to have <a href="https://airqualitynews.com/2020/04/07/people-at-risk-from-coronavirus-warned-with-very-high-air-pollution-episode-predicted-for-uk/">very high import of pollution from Europe</a> and that the wind direction and speed was highly variable across the lockdown period (see Figure <a href="#fig:recentWind"><strong>??</strong></a>).</p>
<p>Further, air quality is not wholly driven by sources that lockdown might suppress and indeed that suppression may lead to rebound affects. For example we might expect more emissions due to increased domestic heating during cooler lockdown periods. As a result the analysis presented below must be considered a preliminary ‘before meteorological adjustment’ and ‘before controlling for other sources’ analysis of the affect of lockdown on air quality in Southampton.</p>
<p>For much more detailed analysis see a longer and very messy <a href="https://dataknut.github.io/airQual/sccAirQualExplore_Exploring%20the%20SSC%20and%20AURN%20data.html">data report</a>.</p>
</div>
<div id="who-air-quality-thresholds" class="section level1">
<h1><span class="header-section-number">3</span> WHO air quality thresholds</h1>
<p>A number of the following plots show the relevant WHO air quality thresholds and limits. These are taken from:</p>
<ul>
<li><a href="https://www.who.int/news-room/fact-sheets/detail/ambient-(outdoor)-air-quality-and-health" class="uri">https://www.who.int/news-room/fact-sheets/detail/ambient-(outdoor)-air-quality-and-health</a></li>
</ul>
</div>
<div id="nitrogen-dioxide-no2" class="section level1">
<h1><span class="header-section-number">4</span> Nitrogen Dioxide (no2)</h1>
<pre class="r"><code>yLab &lt;- &quot;Nitrogen Dioxide (ug/m3)&quot;
no2dt &lt;- fixedDT[pollutant == &quot;no2&quot;]</code></pre>
<p>Figure <a href="#fig:theilSenNO2">4.1</a> shows the NO2 trend over time. Is lockdown below trend?</p>
<pre class="r"><code>no2dt[, `:=`(date, as.Date(dateTimeUTC))]  # set date to date for this one

oaNO2 &lt;- openair::TheilSen(no2dt[date &lt; as.Date(&quot;2020-06-01&quot;)], &quot;value&quot;, ylab = &quot;NO2&quot;, deseason = TRUE, xlab = &quot;Year&quot;, 
    date.format = &quot;%Y&quot;, date.breaks = 4)</code></pre>
<pre><code>## [1] &quot;Taking bootstrap samples. Please wait.&quot;</code></pre>
<div class="figure"><span id="fig:theilSenNO2"></span>
<img src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/figure-html/theilSenNO2-1.png" alt="Theil-Sen trend (NO2)" width="672" />
<p class="caption">
Figure 4.1: Theil-Sen trend (NO2)
</p>
</div>
<pre class="r"><code>p &lt;- oaNO2$plot

getModelTrendTable &lt;- function(oa, fname) {
    # oa is an openAir object created by theilSen calculates the % below trend using the theil sen slope line
    # parameters oa &lt;- oaGWh
    oaData &lt;- as.data.table(oa$data$main.data)
    rDT &lt;- oaData[, .(date, conc, a, b, slope)]
    # https://github.com/davidcarslaw/openair/blob/master/R/TheilSen.R#L192 and
    # https://github.com/davidcarslaw/openair/blob/master/R/TheilSen.R#L625
    rDT[, `:=`(x, time_length(date - as.Date(&quot;1970-01-01&quot;), unit = &quot;days&quot;))]  # n days since x = 0
    rDT[, `:=`(expectedVal, a + (b * x))]  # b = slope / 365
    
    # checks
    p &lt;- ggplot2::ggplot(rDT, aes(x = date)) + geom_line(aes(y = conc)) + labs(y = &quot;Value&quot;, caption = fname)
    p &lt;- p + geom_line(aes(y = expectedVal), linetype = &quot;dashed&quot;)
    ggplot2::ggsave(here::here(&quot;docs&quot;, &quot;plots&quot;, paste0(&quot;SSC_trendModelTestPlot_&quot;, fname, &quot;.png&quot;)))
    rDT[, `:=`(diff, conc - expectedVal)]
    rDT[, `:=`(pcDiff, (diff/expectedVal) * 100)]
    
    t &lt;- rDT[, .(date, conc, a, b, slope, expectedVal, diff, pcDiff)]
    return(t)
}

t &lt;- getModelTrendTable(oaNO2, fname = &quot;NO2&quot;)

ft &lt;- dcast(t[date &gt;= as.Date(&quot;2020-01-01&quot;) &amp; date &lt; as.Date(&quot;2020-06-01&quot;)], date ~ ., value.var = c(&quot;diff&quot;, &quot;pcDiff&quot;))
ft[, `:=`(date, format.Date(date, format = &quot;%b %Y&quot;))]
kableExtra::kable(ft, caption = &quot;Units and % above/below expected&quot;, digits = 2) %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:theilSenNO2">Table 4.1: </span>Units and % above/below expected
</caption>
<thead>
<tr>
<th style="text-align:left;">
date
</th>
<th style="text-align:right;">
diff
</th>
<th style="text-align:right;">
pcDiff
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Jan 2020
</td>
<td style="text-align:right;">
-3.93
</td>
<td style="text-align:right;">
-12.91
</td>
</tr>
<tr>
<td style="text-align:left;">
Feb 2020
</td>
<td style="text-align:right;">
-4.13
</td>
<td style="text-align:right;">
-13.70
</td>
</tr>
<tr>
<td style="text-align:left;">
Mar 2020
</td>
<td style="text-align:right;">
-6.11
</td>
<td style="text-align:right;">
-20.49
</td>
</tr>
<tr>
<td style="text-align:left;">
Apr 2020
</td>
<td style="text-align:right;">
-3.17
</td>
<td style="text-align:right;">
-10.75
</td>
</tr>
<tr>
<td style="text-align:left;">
May 2020
</td>
<td style="text-align:right;">
-4.65
</td>
<td style="text-align:right;">
-15.94
</td>
</tr>
</tbody>
</table>
</div>
<div id="oxides-of-nitrogen-nox" class="section level1">
<h1><span class="header-section-number">5</span> Oxides of Nitrogen (nox)</h1>
<pre class="r"><code>yLab &lt;- &quot;Oxides of Nitrogen (ug/m3)&quot;
noxdt &lt;- fixedDT[pollutant == &quot;nox&quot;]</code></pre>
<p>Figure <a href="#fig:theilSenNOx">5.1</a> shows the NOx trend over time. Is lockdown below trend?</p>
<pre class="r"><code>noxdt[, `:=`(date, as.Date(dateTimeUTC))]  # set date to date for this one

oaNOx &lt;- openair::TheilSen(noxdt[date &lt; as.Date(&quot;2020-06-01&quot;)], &quot;value&quot;, ylab = &quot;NOx&quot;, deseason = TRUE, xlab = &quot;Year&quot;, 
    date.format = &quot;%Y&quot;, date.breaks = 4)</code></pre>
<pre><code>## [1] &quot;Taking bootstrap samples. Please wait.&quot;</code></pre>
<div class="figure"><span id="fig:theilSenNOx"></span>
<img src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/figure-html/theilSenNOx-1.png" alt="Theil-Sen trend (NOx)" width="672" />
<p class="caption">
Figure 5.1: Theil-Sen trend (NOx)
</p>
</div>
<pre class="r"><code>p &lt;- oaNOx$plot

t &lt;- getModelTrendTable(oaNOx, fname = &quot;NOx&quot;)

ft &lt;- dcast(t[date &gt;= as.Date(&quot;2020-01-01&quot;) &amp; date &lt; as.Date(&quot;2020-06-01&quot;)], date ~ ., value.var = c(&quot;diff&quot;, &quot;pcDiff&quot;))
ft[, `:=`(date, format.Date(date, format = &quot;%b %Y&quot;))]
kableExtra::kable(ft, caption = &quot;Units and % above/below expected&quot;, digits = 2) %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:theilSenNOx">Table 5.1: </span>Units and % above/below expected
</caption>
<thead>
<tr>
<th style="text-align:left;">
date
</th>
<th style="text-align:right;">
diff
</th>
<th style="text-align:right;">
pcDiff
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Jan 2020
</td>
<td style="text-align:right;">
-5.11
</td>
<td style="text-align:right;">
-9.30
</td>
</tr>
<tr>
<td style="text-align:left;">
Feb 2020
</td>
<td style="text-align:right;">
-6.81
</td>
<td style="text-align:right;">
-12.55
</td>
</tr>
<tr>
<td style="text-align:left;">
Mar 2020
</td>
<td style="text-align:right;">
-9.41
</td>
<td style="text-align:right;">
-17.54
</td>
</tr>
<tr>
<td style="text-align:left;">
Apr 2020
</td>
<td style="text-align:right;">
-0.35
</td>
<td style="text-align:right;">
-0.66
</td>
</tr>
<tr>
<td style="text-align:left;">
May 2020
</td>
<td style="text-align:right;">
-5.28
</td>
<td style="text-align:right;">
-10.08
</td>
</tr>
</tbody>
</table>
</div>
<div id="sulphour-dioxide" class="section level1">
<h1><span class="header-section-number">6</span> Sulphour Dioxide</h1>
<pre class="r"><code>yLab &lt;- &quot;Sulphour Dioxide (ug/m3)&quot;
so2dt &lt;- fixedDT[pollutant == &quot;so2&quot;]</code></pre>
<p>Figure <a href="#fig:theilSenSO2">6.1</a> shows the SO2 trend over time. Is lockdown below trend?</p>
<pre class="r"><code>so2dt[, `:=`(date, as.Date(dateTimeUTC))]  # set date to date for this one

oaSO2 &lt;- openair::TheilSen(noxdt[date &lt; as.Date(&quot;2020-06-01&quot;)], &quot;value&quot;, ylab = &quot;SO2&quot;, deseason = TRUE, xlab = &quot;Year&quot;, 
    date.format = &quot;%Y&quot;, date.breaks = 4)</code></pre>
<pre><code>## [1] &quot;Taking bootstrap samples. Please wait.&quot;</code></pre>
<div class="figure"><span id="fig:theilSenSO2"></span>
<img src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/figure-html/theilSenSO2-1.png" alt="Theil-Sen trend (SO2)" width="672" />
<p class="caption">
Figure 6.1: Theil-Sen trend (SO2)
</p>
</div>
<pre class="r"><code>t &lt;- getModelTrendTable(oaSO2, fname = &quot;SO2&quot;)

ft &lt;- dcast(t[date &gt;= as.Date(&quot;2020-01-01&quot;) &amp; date &lt; as.Date(&quot;2020-06-01&quot;)], date ~ ., value.var = c(&quot;diff&quot;, &quot;pcDiff&quot;))
ft[, `:=`(date, format.Date(date, format = &quot;%b %Y&quot;))]
kableExtra::kable(ft, caption = &quot;Units and % above/below expected&quot;, digits = 2) %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:theilSenSO2">Table 6.1: </span>Units and % above/below expected
</caption>
<thead>
<tr>
<th style="text-align:left;">
date
</th>
<th style="text-align:right;">
diff
</th>
<th style="text-align:right;">
pcDiff
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Jan 2020
</td>
<td style="text-align:right;">
-5.11
</td>
<td style="text-align:right;">
-9.30
</td>
</tr>
<tr>
<td style="text-align:left;">
Feb 2020
</td>
<td style="text-align:right;">
-6.81
</td>
<td style="text-align:right;">
-12.55
</td>
</tr>
<tr>
<td style="text-align:left;">
Mar 2020
</td>
<td style="text-align:right;">
-9.41
</td>
<td style="text-align:right;">
-17.54
</td>
</tr>
<tr>
<td style="text-align:left;">
Apr 2020
</td>
<td style="text-align:right;">
-0.35
</td>
<td style="text-align:right;">
-0.66
</td>
</tr>
<tr>
<td style="text-align:left;">
May 2020
</td>
<td style="text-align:right;">
-5.28
</td>
<td style="text-align:right;">
-10.08
</td>
</tr>
</tbody>
</table>
</div>
<div id="ozone" class="section level1">
<h1><span class="header-section-number">7</span> Ozone</h1>
<pre class="r"><code>yLab &lt;- &quot;Ozone (ug/m3)&quot;
o3dt &lt;- fixedDT[pollutant == &quot;o3&quot;]</code></pre>
<p>Figure <a href="#fig:theilSenO3">7.1</a> shows the O3 trend over time. Is lockdown below trend?</p>
<pre class="r"><code>o3dt[, `:=`(date, as.Date(dateTimeUTC))]  # set date to date for this one

oaO3 &lt;- openair::TheilSen(o3dt[date &lt; as.Date(&quot;2020-06-01&quot;)], &quot;value&quot;, ylab = &quot;O3&quot;, deseason = TRUE, xlab = &quot;Year&quot;, 
    date.format = &quot;%Y&quot;, date.breaks = 4)</code></pre>
<pre><code>## [1] &quot;Taking bootstrap samples. Please wait.&quot;</code></pre>
<div class="figure"><span id="fig:theilSenO3"></span>
<img src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/figure-html/theilSenO3-1.png" alt="Theil-Sen trend (O3)" width="672" />
<p class="caption">
Figure 7.1: Theil-Sen trend (O3)
</p>
</div>
<pre class="r"><code>t &lt;- getModelTrendTable(oaO3, fname = &quot;O3&quot;)

ft &lt;- dcast(t[date &gt;= as.Date(&quot;2020-01-01&quot;) &amp; date &lt; as.Date(&quot;2020-06-01&quot;)], date ~ ., value.var = c(&quot;diff&quot;, &quot;pcDiff&quot;))
ft[, `:=`(date, format.Date(date, format = &quot;%b %Y&quot;))]
kableExtra::kable(ft, caption = &quot;Units and % above/below expected&quot;, digits = 2) %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:theilSenO3">Table 7.1: </span>Units and % above/below expected
</caption>
<thead>
<tr>
<th style="text-align:left;">
date
</th>
<th style="text-align:right;">
diff
</th>
<th style="text-align:right;">
pcDiff
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Jan 2020
</td>
<td style="text-align:right;">
4.30
</td>
<td style="text-align:right;">
9.31
</td>
</tr>
<tr>
<td style="text-align:left;">
Feb 2020
</td>
<td style="text-align:right;">
8.84
</td>
<td style="text-align:right;">
19.07
</td>
</tr>
<tr>
<td style="text-align:left;">
Mar 2020
</td>
<td style="text-align:right;">
4.77
</td>
<td style="text-align:right;">
10.25
</td>
</tr>
<tr>
<td style="text-align:left;">
Apr 2020
</td>
<td style="text-align:right;">
4.31
</td>
<td style="text-align:right;">
9.22
</td>
</tr>
<tr>
<td style="text-align:left;">
May 2020
</td>
<td style="text-align:right;">
6.80
</td>
<td style="text-align:right;">
14.48
</td>
</tr>
</tbody>
</table>
</div>
<div id="pm-10" class="section level1">
<h1><span class="header-section-number">8</span> PM 10</h1>
<pre class="r"><code>yLab &lt;- &quot;PM 10 (ug/m3)&quot;
pm10dt &lt;- fixedDT[pollutant == &quot;pm10&quot;]</code></pre>
<p>Figure <a href="#fig:theilSenPM10">8.1</a> shows the PM10 trend over time. Is lockdown below trend?</p>
<pre class="r"><code>pm10dt[, `:=`(date, as.Date(dateTimeUTC))]  # set date to date for this one

oaPM10 &lt;- openair::TheilSen(pm10dt[date &lt; as.Date(&quot;2020-06-01&quot;)], &quot;value&quot;, ylab = &quot;PM10&quot;, deseason = TRUE, xlab = &quot;Year&quot;, 
    date.format = &quot;%Y&quot;, date.breaks = 4)</code></pre>
<pre><code>## [1] &quot;Taking bootstrap samples. Please wait.&quot;</code></pre>
<div class="figure"><span id="fig:theilSenPM10"></span>
<img src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/figure-html/theilSenPM10-1.png" alt="Theil-Sen trend (PM10)" width="672" />
<p class="caption">
Figure 8.1: Theil-Sen trend (PM10)
</p>
</div>
<pre class="r"><code>t &lt;- getModelTrendTable(oaPM10, fname = &quot;SPM10&quot;)

ft &lt;- dcast(t[date &gt;= as.Date(&quot;2020-01-01&quot;) &amp; date &lt; as.Date(&quot;2020-06-01&quot;)], date ~ ., value.var = c(&quot;diff&quot;, &quot;pcDiff&quot;))
ft[, `:=`(date, format.Date(date, format = &quot;%b %Y&quot;))]
kableExtra::kable(ft, caption = &quot;Units and % above/below expected&quot;, digits = 2) %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:theilSenPM10">Table 8.1: </span>Units and % above/below expected
</caption>
<thead>
<tr>
<th style="text-align:left;">
date
</th>
<th style="text-align:right;">
diff
</th>
<th style="text-align:right;">
pcDiff
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Jan 2020
</td>
<td style="text-align:right;">
-0.10
</td>
<td style="text-align:right;">
-0.62
</td>
</tr>
<tr>
<td style="text-align:left;">
Feb 2020
</td>
<td style="text-align:right;">
-1.58
</td>
<td style="text-align:right;">
-10.10
</td>
</tr>
<tr>
<td style="text-align:left;">
Mar 2020
</td>
<td style="text-align:right;">
1.55
</td>
<td style="text-align:right;">
9.91
</td>
</tr>
<tr>
<td style="text-align:left;">
Apr 2020
</td>
<td style="text-align:right;">
-0.06
</td>
<td style="text-align:right;">
-0.38
</td>
</tr>
<tr>
<td style="text-align:left;">
May 2020
</td>
<td style="text-align:right;">
1.57
</td>
<td style="text-align:right;">
10.19
</td>
</tr>
</tbody>
</table>
</div>
<div id="pm-2.5" class="section level1">
<h1><span class="header-section-number">9</span> PM 2.5</h1>
<pre class="r"><code>yLab &lt;- &quot;PM 2.5 (ug/m3)&quot;
pm25dt &lt;- fixedDT[pollutant == &quot;pm2.5&quot;]</code></pre>
<p>Figure <a href="#fig:theilSenPM25">9.1</a> shows the PM10 trend over time. Is lockdown below trend?</p>
<pre class="r"><code>pm25dt[, `:=`(date, as.Date(dateTimeUTC))]  # set date to date for this one

oaPM25 &lt;- openair::TheilSen(pm25dt[date &lt; as.Date(&quot;2020-06-01&quot;)], &quot;value&quot;, ylab = &quot;PM2.5&quot;, deseason = TRUE, xlab = &quot;Year&quot;, 
    date.format = &quot;%Y&quot;, date.breaks = 4)</code></pre>
<pre><code>## [1] &quot;Taking bootstrap samples. Please wait.&quot;</code></pre>
<div class="figure"><span id="fig:theilSenPM25"></span>
<img src="sccAirQualExplore_covidLockdown2020ForBBCsnaphot_files/figure-html/theilSenPM25-1.png" alt="Theil-Sen trend (PM2.5)" width="672" />
<p class="caption">
Figure 9.1: Theil-Sen trend (PM2.5)
</p>
</div>
<pre class="r"><code>t &lt;- getModelTrendTable(oaPM25, fname = &quot;PM2.5&quot;)

ft &lt;- dcast(t[date &gt;= as.Date(&quot;2020-01-01&quot;) &amp; date &lt; as.Date(&quot;2020-06-01&quot;)], date ~ ., value.var = c(&quot;diff&quot;, &quot;pcDiff&quot;))
ft[, `:=`(date, format.Date(date, format = &quot;%b %Y&quot;))]
kableExtra::kable(ft, caption = &quot;Units and % above/below expected&quot;, digits = 2) %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:theilSenPM25">Table 9.1: </span>Units and % above/below expected
</caption>
<thead>
<tr>
<th style="text-align:left;">
date
</th>
<th style="text-align:right;">
diff
</th>
<th style="text-align:right;">
pcDiff
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Jan 2020
</td>
<td style="text-align:right;">
0.70
</td>
<td style="text-align:right;">
7.70
</td>
</tr>
<tr>
<td style="text-align:left;">
Feb 2020
</td>
<td style="text-align:right;">
-0.42
</td>
<td style="text-align:right;">
-4.72
</td>
</tr>
<tr>
<td style="text-align:left;">
Mar 2020
</td>
<td style="text-align:right;">
0.38
</td>
<td style="text-align:right;">
4.27
</td>
</tr>
<tr>
<td style="text-align:left;">
Apr 2020
</td>
<td style="text-align:right;">
1.59
</td>
<td style="text-align:right;">
18.11
</td>
</tr>
<tr>
<td style="text-align:left;">
May 2020
</td>
<td style="text-align:right;">
1.73
</td>
<td style="text-align:right;">
19.89
</td>
</tr>
</tbody>
</table>
</div>
<div id="about" class="section level1">
<h1><span class="header-section-number">10</span> About</h1>
<div id="code" class="section level2">
<h2><span class="header-section-number">10.1</span> Code</h2>
<p>Source:</p>
<ul>
<li><a href="https://github.com/dataknut/airQual" class="uri">https://github.com/dataknut/airQual</a></li>
</ul>
<p>History:</p>
<ul>
<li><a href="https://github.com/dataknut/airQual/commits/master" class="uri">https://github.com/dataknut/airQual/commits/master</a></li>
</ul>
</div>
<div id="comments-and-feedback" class="section level2">
<h2><span class="header-section-number">10.2</span> Comments and feedback</h2>
<p>If you wish to comment please open an issue:</p>
<ul>
<li><a href="https://github.com/dataknut/airQual/issues" class="uri">https://github.com/dataknut/airQual/issues</a></li>
</ul>
</div>
<div id="citation" class="section level2">
<h2><span class="header-section-number">10.3</span> Citation</h2>
<p>If you wish to refer to any of the material from this report please cite as:</p>
<ul>
<li>Anderson, B., (2020) Air Quality in Southampton (UK): Exploring the effect of UK covid 19 lockdown on air quality: Summary for BBC South , <a href="http://www.energy.soton.ac.uk">Sustainable Energy Research Group</a>, University of Southampton: Southampton, UK.</li>
</ul>
<p>Report circulation:</p>
<ul>
<li>Public</li>
</ul>
<p>This work is (c) 2020 the University of Southampton and is part of a collection of <a href="https://dataknut.github.io/airQual/">air quality</a> data analyses.</p>
</div>
</div>
<div id="runtime" class="section level1">
<h1><span class="header-section-number">11</span> Runtime</h1>
<p>Report generated using <a href="https://cran.r-project.org/package=knitr">knitr</a> in <a href="http://www.rstudio.com">RStudio</a> with R version 3.6.0 (2019-04-26) running on x86_64-redhat-linux-gnu (#1 SMP Thu May 7 19:30:37 EDT 2020).</p>
<pre class="r"><code>t &lt;- proc.time() - myParams$startTime

elapsed &lt;- t[[3]]</code></pre>
<p>Analysis completed in 15.068 seconds ( 0.25 minutes).</p>
<p>R packages used in this report:</p>
<ul>
<li>data.table - <span class="citation">(Dowle et al. 2015)</span></li>
<li>ggplot2 - <span class="citation">(Wickham 2009)</span></li>
<li>here - <span class="citation">(Müller 2017)</span></li>
<li>kableExtra - <span class="citation">(Zhu 2019)</span></li>
<li>lubridate - <span class="citation">(Grolemund and Wickham 2011)</span></li>
<li>openAir - <span class="citation">(Carslaw and Ropkins 2012)</span></li>
<li>skimr - <span class="citation">(Arino de la Rubia et al. 2017)</span></li>
<li>viridis - <span class="citation">(Garnier 2018)</span></li>
</ul>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references">
<div id="ref-skimr">
<p>Arino de la Rubia, Eduardo, Hao Zhu, Shannon Ellis, Elin Waring, and Michael Quinn. 2017. <em>Skimr: Skimr</em>. <a href="https://github.com/ropenscilabs/skimr" class="uri">https://github.com/ropenscilabs/skimr</a>.</p>
</div>
<div id="ref-openair">
<p>Carslaw, David C., and Karl Ropkins. 2012. “Openair — an R Package for Air Quality Data Analysis.” <em>Environmental Modelling &amp; Software</em> 27–28 (0): 52–61. doi:<a href="https://doi.org/10.1016/j.envsoft.2011.09.008">10.1016/j.envsoft.2011.09.008</a>.</p>
</div>
<div id="ref-data.table">
<p>Dowle, M, A Srinivasan, T Short, S Lianoglou with contributions from R Saporta, and E Antonyan. 2015. <em>Data.table: Extension of Data.frame</em>. <a href="https://CRAN.R-project.org/package=data.table" class="uri">https://CRAN.R-project.org/package=data.table</a>.</p>
</div>
<div id="ref-viridis">
<p>Garnier, Simon. 2018. <em>Viridis: Default Color Maps from ’Matplotlib’</em>. <a href="https://CRAN.R-project.org/package=viridis" class="uri">https://CRAN.R-project.org/package=viridis</a>.</p>
</div>
<div id="ref-lubridate">
<p>Grolemund, Garrett, and Hadley Wickham. 2011. “Dates and Times Made Easy with lubridate.” <em>Journal of Statistical Software</em> 40 (3): 1–25. <a href="http://www.jstatsoft.org/v40/i03/" class="uri">http://www.jstatsoft.org/v40/i03/</a>.</p>
</div>
<div id="ref-here">
<p>Müller, Kirill. 2017. <em>Here: A Simpler Way to Find Your Files</em>. <a href="https://CRAN.R-project.org/package=here" class="uri">https://CRAN.R-project.org/package=here</a>.</p>
</div>
<div id="ref-ggplot2">
<p>Wickham, Hadley. 2009. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="http://ggplot2.org" class="uri">http://ggplot2.org</a>.</p>
</div>
<div id="ref-kableExtra">
<p>Zhu, Hao. 2019. <em>KableExtra: Construct Complex Table with ’Kable’ and Pipe Syntax</em>. <a href="https://CRAN.R-project.org/package=kableExtra" class="uri">https://CRAN.R-project.org/package=kableExtra</a>.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
